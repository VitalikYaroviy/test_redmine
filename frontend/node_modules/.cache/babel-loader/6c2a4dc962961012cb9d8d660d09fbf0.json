{"ast":null,"code":"import { put, call, takeLatest } from 'redux-saga/effects'; // import { toastr } from 'react-redux-toastr'\n\nimport * as actions from './actions';\n\nfunction* createSession(api, {\n  data\n}, {\n  resource,\n  thunk\n}) {\n  try {\n    const detail = yield call([api, api.post], `/${resource}`, data);\n    yield put(actions.sessionCreateSuccess(resource, detail, {\n      data\n    }, thunk));\n  } catch (e) {\n    yield put(actions.sessionCreateFailure(resource, e, {\n      data\n    }, thunk));\n  }\n}\n\nfunction* showSession(api, {\n  resource,\n  thunk\n}) {\n  try {\n    const detail = yield call([api, api.get], `/${resource}`);\n    yield put(actions.sessionShowSuccess(resource, detail, thunk));\n  } catch (e) {\n    yield put(actions.sessionShowFailure(resource, e, thunk));\n  }\n}\n\nfunction* deleteSession(api, {\n  resource,\n  thunk\n}) {\n  try {\n    const detail = yield call([api, api.delete], `/${resource}`);\n    yield put(actions.sessionDeleteSuccess(resource, detail, thunk)); // toastr.success('Success', 'You successfully loggout!')\n  } catch (e) {\n    yield put(actions.sessionDeleteFailure(resource, e, thunk)); // toastr.error('Oops! Something went wrong...')\n  }\n}\n\nfunction* watchSessionCreateRequest(api, {\n  payload,\n  meta\n}) {\n  yield call(createSession, api, payload, meta);\n}\n\nfunction* watchSessionShowRequest(api, {\n  meta\n}) {\n  yield call(showSession, api, meta);\n}\n\nfunction* watchSessionDeleteRequest(api, {\n  meta\n}) {\n  yield call(deleteSession, api, meta);\n}\n\nexport default function* ({\n  api\n}) {\n  yield takeLatest(actions.SESSION_CREATE_REQUEST, watchSessionCreateRequest, api);\n  yield takeLatest(actions.SESSION_SHOW_REQUEST, watchSessionShowRequest, api);\n  yield takeLatest(actions.SESSION_DELETE_REQUEST, watchSessionDeleteRequest, api);\n}","map":{"version":3,"sources":["/home/vitalik/work/test/ideaboard-api/frontend/src/store/sessions/sagas.js"],"names":["put","call","takeLatest","actions","createSession","api","data","resource","thunk","detail","post","sessionCreateSuccess","e","sessionCreateFailure","showSession","get","sessionShowSuccess","sessionShowFailure","deleteSession","delete","sessionDeleteSuccess","sessionDeleteFailure","watchSessionCreateRequest","payload","meta","watchSessionShowRequest","watchSessionDeleteRequest","SESSION_CREATE_REQUEST","SESSION_SHOW_REQUEST","SESSION_DELETE_REQUEST"],"mappings":"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","sourcesContent":["import { put, call, takeLatest } from 'redux-saga/effects'\n// import { toastr } from 'react-redux-toastr'\n\nimport * as actions from './actions'\n\nfunction* createSession(api, { data }, { resource, thunk }) {\n  try {\n    const detail = yield call([api, api.post], `/${resource}`,  data)\n    yield put(actions.sessionCreateSuccess(resource, detail, { data }, thunk))\n  } catch (e) {\n    yield put(actions.sessionCreateFailure(resource, e, { data }, thunk))\n  }\n}\n\nfunction* showSession(api, { resource, thunk }) {\n  try {\n    const detail = yield call([api, api.get], `/${resource}`)\n    yield put(actions.sessionShowSuccess(resource, detail, thunk))\n  } catch (e) {\n    yield put(actions.sessionShowFailure(resource, e, thunk))\n  }\n}\n\nfunction* deleteSession(api, { resource, thunk }) {\n  try {\n    const detail = yield call([api, api.delete], `/${resource}`)\n    yield put(actions.sessionDeleteSuccess(resource, detail, thunk))\n    // toastr.success('Success', 'You successfully loggout!')\n  } catch (e) {\n    yield put(actions.sessionDeleteFailure(resource, e, thunk))\n    // toastr.error('Oops! Something went wrong...')\n  }\n}\n\nfunction* watchSessionCreateRequest(api, { payload, meta }) {\n  yield call(createSession, api, payload, meta)\n}\n\nfunction* watchSessionShowRequest(api, { meta }) {\n  yield call(showSession, api, meta)\n}\n\nfunction* watchSessionDeleteRequest(api, { meta }) {\n  yield call(deleteSession, api, meta)\n}\n\nexport default function* ({ api }) {\n  yield takeLatest(actions.SESSION_CREATE_REQUEST, watchSessionCreateRequest, api)\n  yield takeLatest(actions.SESSION_SHOW_REQUEST, watchSessionShowRequest, api)\n  yield takeLatest(actions.SESSION_DELETE_REQUEST, watchSessionDeleteRequest, api)\n}"]},"metadata":{},"sourceType":"module"}